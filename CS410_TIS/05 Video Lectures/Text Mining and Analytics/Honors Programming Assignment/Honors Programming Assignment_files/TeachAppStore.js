define("bundles/teach-course/stores/TeachAppStore",["require","exports","module","vendor/cnpm/fluxible.v0-4/addons/BaseStore","bundles/author-common/models/Session","bundles/author-common/models/AuthoringCourse","bundles/author-common/models/AuthoringCourseBranch"],function(require,exports,module){"use strict";function _defaults(e,r){for(var s=Object.getOwnPropertyNames(r),t=0;t<s.length;t++){var n=s[t],o=Object.getOwnPropertyDescriptor(r,n);o&&o.configurable&&void 0===e[n]&&Object.defineProperty(e,n,o)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var e,t,n=require("vendor/cnpm/fluxible.v0-4/addons/BaseStore"),o=require("bundles/author-common/models/Session"),r=require("bundles/author-common/models/AuthoringCourse"),s=require("bundles/author-common/models/AuthoringCourseBranch"),u=(t=e=function(e){function TeachAppStore(){var o,t,r;_classCallCheck(this,TeachAppStore);for(var s=arguments.length,u=Array(s),n=0;s>n;n++)u[n]=arguments[n];return o=t=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(u))),t.course=null,t.courseRole="BROWSER",t.sessions=[],t.branches=[],r=o,_possibleConstructorReturn(t,r)}return _inherits(TeachAppStore,e),TeachAppStore.prototype.getCourse=function getCourse(){return this.course},TeachAppStore.prototype.getCourseRole=function getCourseRole(){return this.courseRole},TeachAppStore.prototype.getSessions=function getSessions(){return this.sessions},TeachAppStore.prototype.getBranches=function getBranches(){return this.branches},TeachAppStore.prototype.hasPrivateBranch=function hasPrivateBranch(){return!!this.branches.find(function(e){return e.isPrivate})},TeachAppStore.prototype.getBranchForSession=function getBranchForSession(e){return this.branches.find(function(t){return!!t.associatedSessions[e]})},TeachAppStore}(n),e.storeName="TeachAppStore",e.handlers={RECEIVE_COURSE:function RECEIVE_COURSE(e){this.course=new r(e),this.emitChange()},RECEIVE_MEMBERSHIP_FOR_COURSE:function RECEIVE_MEMBERSHIP_FOR_COURSE(e){this.courseRole=e,this.emitChange()},RECEIVE_SESSIONS_FOR_COURSE:function RECEIVE_SESSIONS_FOR_COURSE(e){this.sessions=e.map(function(e){return new o(e)}),this.emitChange()},RECEIVE_BRANCHES_FOR_COURSE:function RECEIVE_BRANCHES_FOR_COURSE(e){this.branches=e.map(function(e){return new s(e)}),this.emitChange()}},t);module.exports=u});